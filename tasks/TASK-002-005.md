# Core Application Setup

## Task Overview
**Task ID**: TASK-002 to TASK-005  
**Priority**: High  
**Estimated Completion Time**: 2 hours  
**Previous Agent**: TASK-001 Agent

## Task Description
Set up the core application infrastructure for the StreamVibe TV App, including the development environment, Senza SDK integration, app lifecycle management, and navigation foundation. This combined task involves setting up the essential technical foundation that the rest of the application will build upon.

## Context
This is part of the StreamVibe TV App being developed for the Senza platform hackathon. The application aims to create an AI-powered interactive TV experience optimized for remote control navigation at 1920x1080 resolution.

## Current Status
The base project structure has been initialized in TASK-001. Now we need to configure the development environment and integrate the core dependencies needed for the application to function properly on the Senza platform.

## Requirements

### TASK-002: Set up Webpack and development environment
- Configure Webpack for modern React development
- Set up dev server with hot reloading
- Configure CSS Modules or styled-components
- Set up file loaders for assets (images, fonts, etc.)
- Configure production build process

### TASK-003: Configure Senza SDK integration
- Install and integrate Senza SDK
- Set up initialization in application bootstrap
- Configure SDK event listeners
- Create SDK utility wrappers for easier consumption
- Test SDK connectivity

### TASK-004: Implement basic app lifecycle management
- Set up application lifecycle hooks
- Implement foreground/background state handling
- Create cleanup mechanisms for app state
- Implement application event bus
- Handle application focus/blur events

### TASK-005: Set up routing and navigation foundation
- Set up client-side routing
- Create base navigation structure
- Implement history management
- Set up lazy loading for routes
- Configure initial routes for main app sections

## Technical Details
- **Tech Stack**: React, Webpack, Senza SDK, React Router
- **Related Files**: 
  - webpack.config.js - Build configuration
  - src/index.js - Application entry point
  - src/App.js - Main application component
  - src/services/senza-sdk.js - SDK integration
  - src/navigation/routes.js - Routing configuration
- **Components/Services**: 
  - AppLifecycle - Lifecycle management component
  - NavigationManager - Central navigation service
  - SdkService - Senza SDK integration service

## Success Criteria
- Development environment works with hot reloading
- Senza SDK is properly initialized and connected
- Application successfully handles lifecycle events (foreground/background)
- Navigation system allows movement between different app sections
- Build process produces optimized assets for production

## Implementation Guidelines
- Follow React best practices for component structure and organization
- Create clear separation between SDK interaction and app business logic
- Use React hooks for lifecycle and state management
- Implement the navigation system with TV remote control in mind
- Document all SDK integration points for other developers

## Testing Approach
- Test development server with `npm start`
- Verify hot reloading functionality
- Test SDK connection using Senza Simulator
- Check application state persistence during lifecycle changes
- Test navigation with keyboard input (simulating remote control)

## Resources
- [Webpack Configuration](https://webpack.js.org/configuration/)
- [Senza SDK Documentation](https://developer.synamedia.com/senza/docs/client-library)
- [React Router Documentation](https://reactrouter.com/web/guides/quick-start)
- [React Lifecycle Hooks](https://reactjs.org/docs/hooks-reference.html)
- [Senza Device Simulator](https://developer.synamedia.com/senza/docs/device-simulator)

## Dependencies
- Base project initialized in TASK-001
- Access to Senza Developer Account
- Senza SDK npm package
- React Router for navigation

---

## Task Completion Checklist
- [x] Set up Webpack configuration with CSS Modules support
- [x] Configure development server with hot reloading
- [x] Install and integrate Senza SDK
- [x] Create SDK initialization in application bootstrap
- [x] Implement app lifecycle management (foreground/background)
- [x] Set up application event handling
- [x] Configure React Router with initial routes
- [x] Create navigation structure optimized for TV
- [x] Test all integrations in development environment
- [x] Document SDK integration for other developers

---

## Follow-up Tasks

**Next Task ID**: TASK-006  
**Priority**: High  
**Task Description**: Implement focus management system

---

## Notes from Current Agent
I've successfully completed all the required tasks for the core application setup. Here are the key decisions and implementations made:

1. **Development Environment Setup**:
   - Used Vite instead of Webpack for a more modern build system with better performance
   - Configured CSS Modules support and asset loading
   - Set up aliases for cleaner imports
   - Configured production build optimization with chunk splitting

2. **Senza SDK Integration**:
   - Created a comprehensive SDK service with TypeScript type definitions
   - Implemented event system for SDK events
   - Added utility methods for common SDK operations
   - Established proper initialization sequence

3. **App Lifecycle Management**:
   - Created an event-based lifecycle management system
   - Implemented foreground/background state handling
   - Added window focus/blur event integration
   - Set up cleanup mechanisms for event listeners
   - Created a flexible event subscription system

4. **Navigation Foundation**:
   - Implemented routing with React Router
   - Created a history management service for TV navigation
   - Added remote control navigation helpers
   - Implemented lazy loading for route components
   - Set up a complete route configuration system

The core infrastructure is now in place, providing a solid foundation for the rest of the application. The next task should focus on implementing a focus management system optimized for TV remote control navigation. 